1. Архитектура SDR системы

# Введение

История коммуникаций эволюционирует уже несколько тысяч лет, имея разные формы. Начиналось все с банального общения между людьми посредством речи\звуков\жестов, переданных одним человеком другому. Возникает связь - передатчик информации и приемник. Тем временем, самый громкий звук, изданный человеком, равен 112.8 децибел может быть услышан другим человеком лишь в 100 метрах от “орущего”. 

При помощи современных компьютерных технологий, устройств и алгоритмов обработки цифрового сигнала (DSP, Digital Signal Processing), 

# Что такое SDR?

# Adalm Pluto SDR

Обучающая платформа PlutoSDR может взаимодействовать с:

1. Matlab, Simulink
2. GNU Radio
3. C, C++ при помощи доп. библиотек
4. С#
5. Среда языка Python

В начале данного курса мы наладим взаимодействие PlutoSDR с языком Python. Далее, напишем программы под другие платформы, сравним разницу по времени обработки сигналов, простоты написания кода, редактирования.

### Чип AD9363

Программируемый РЧ приемопередатчик, возможности которого позволяют использовать его для построения микро- (фемто-) сот мобильной связи 3G, 4G и 5G (в некоторых конфигурациях).

Основные характеристики:

- **12-битный** ЦАП/АЦП (Цифро-аналоговый\Аналого-цифровой Преобразователь) [[1]](https://www.notion.so/022075c5872a478a986df83e3e5dd6dd?pvs=21);
- Поддерживаемые несущие частоты от **325** [МГц] до **3.8** [ГГц];
- Поддерживает временной и частотный дуплексы (**TDD**, **FDD**);
- Ширина полосы частот: **20** [МГц];
- Шумы в приемнике: **3** [dB];
- EVM (Error Vector Magnitude): **-34** [dB];
- Tx noise: **< -157** [dBm\Hz]
- 2 **Rx**, 2 **Tx**

Более подробная информация по данному чипу находится 

### ПЛИС Xilinx Zynq

Структурная схема Zynq.

Каждый Zynq состоит из одного или двух ядер ARM Cortex-A9 (ARM v7), кэш L1 у каждого ядра свой, кэш L2 общий. Поддерживаемая оперативная память имеет стандарты DDR3, DDR3L, DDR2, LPDDR-2. Максимальный объем оперативной памяти равен 1 Гбайт (2 микросхемы по 4 Гбит). Максимальная тактовая частота оперативной памяти 525 МГц. Операционные системы: Standalone (bare-metal) и Petalinux. Процессорный модуль общается с внешним миром и программируемой логикой с помощью портов, объединенных в группы:

- MIO (multiplexed I/O);
- EMIO (extended multiplexed I/O);
- GP (General-Purpose Ports);
- HP (High-Performance Ports);
- ACP (Accelerator coherency port).

Схема интерфейсов Zynq.

*Буквы S и M у порта обозначают соответственно Slave и Master.*

Так как, в одном корпусе Zynq реализованы и процессорный модуль и программируемая логика, есть выводы, которые относятся к процессорному модулю и выводы, которые относятся к программируемой логике.

### **Порты**

### **MIO**

Порты MIO подключены к выводам процессора. С помощью MIO могут быть подключены следующие периферийные устройства процессорного модуля:

- USB-контроллер – 2 шт;
- Gigabit Ethernet контроллер – 2 шт;
- SD/SDIO контроллер – 2 шт;
- UART – 2 шт;
- CAN – 2 шт;
- I2C – 2 шт;
- SPI – 2 шт;
- GPIO. Все выводы можно использовать как выводы общего назначения.

Так же, к MIO могут быть подключены следующие устройства памяти процессорного модуля:

- QSPI контроллер;
- ONFI контроллер;
- SRAM/NOR контроллер.

Количество MIO портов равно 54 (за исключением некоторых микросхем в корпусе CLG225, там еще меньше). Поэтому все сразу включить не удастся. Для решения этой проблемы существует группа портов EMIO.

# Список источников

1. PlutoSDR in Matlab - https://www.mathworks.com/hardware-support/adalm-pluto-radio.html
2. GNU Radio - https://www.gnuradio.org/
3. Дополнительные библиотеки под C\C++ - https://wiki.analog.com/university/tools/pluto/controlling_the_transceiver_and_transferring_data
4. Пример работы с C# - https://github.com/analogdevicesinc/libiio/blob/main/bindings/csharp/examples/ExampleProgram.cs
5. pyadi-iio: Device Specific Python Interfaces For IIO Drivers - https://wiki.analog.com/resources/tools-software/linux-software/pyadi-iio
6. https://www.youtube.com/watch?v=82cIKVHIXC8&list=PLmu_y3-DV2_kpP8oX_Uug0IbgH2T4hRPL&index=11 - про АЦП и ЦАП
7. Схема устройства Adalm Pluto SDR - https://wiki.analog.com/_media/university/tools/pluto/hacking/plutosdr_schematic_revd_0.1.pdf
8. Спецификация по Xilinx -https://docs.xilinx.com/v/u/en-US/ds187-XC7Z010-XC7Z020-Data-Sheet
